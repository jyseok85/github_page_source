---
layout: post
current: post
cover: assets/images/mlagents/Unity-Machine-Learning-Agents.jpg
navigation: True
title: .Net5 -> .Net7 Migration
date: 2022-11-17 20:00:00 +0900
tags: [blazor]
class: post-template
subclass: 'post'
author: YeonSeok
---

특별히 변경된 사항은 거의 없습니다. 
App.razor의 초반 선언이 조금 바뀌고, 단순 Loading 텍스트대신 프로그래스바가 추가되었습니다. 
.Net5에서 프로젝트 속성에서 단순히 .Net7으로 변경하기만 하면 동작됩니다. 

단순 프레임워크만 올랐는데 속도도 빨라졌습니다. 

5에서 6까지 1초 걸리던게 0.8초
6에서 7까지 0.8초 걸리던게 0.6초

한번에 2단계를 건너뛰었기 때문에 거의 2배 빨라졌다고 보는게 좋습니다. 
거의 서버와 동일한 속도까지 빨라졌습니다.(서버의 경우 매페이지 다운로드 해야기 때문에 
실제 계산은 빨라도 다운로드가 완료되는 시간이 포함되어서 엇 비슷합니다.)

그런데 말입니다. 
.net6 부터 AOT 가 나왔습니다. 물론 저는 6를 건너뛰었고, 원래 첫버전은 망작이라서 시도도 안해봤었는데
이걸 사용하니까 속도가 거의 윈도우 클라이언트속도가 나옵니다.. WASM이요..

단점은 다운받아야 하는 프레임워크가 3배이상 뻥튀기 됩니다. 기존에 30메가 중반대였는데
AOT로 빌드하니 100메가이상이 됩니다. 

물론 웹브라우저는 캐싱이 되니까 두번째 접속시에는 1~2메가 정도만 다운받습니다. 

단점은 사파리에서 지원이 안됩니다.. 
솔직히 IOS에서 인쇄 안되는 문제로 개발한건데.. 사파리가 아직이라니.
